const fs = require(fs);
const { exec } = require('child_process');

function modifyFileWithChatGPT(fileName, description) {
  // Read the contents of the file
  const contents = fs.readFileSync(fileName, utf-8);

  // Invoke chatGPT to modify the file with the description as the prompt and contents as the message
  exec(`echo "${description}" | transformers-cli chatGPT -r "${contents}"`, (error, stdout, stderr) => {
    if (error) {
      console.error(`Error: ${error.message}`);
      return;
    }
    if (stderr) {
      console.error(stderr: ${stderr});
      return;
    }
    // Write the output to a new file
    fs.writeFileSync(`modified-${fileName}`, stdout);
  });
}
